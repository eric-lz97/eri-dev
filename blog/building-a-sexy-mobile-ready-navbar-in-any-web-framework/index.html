<!DOCTYPE html><html lang="en-US">
<!-- Mirrored from bholmes.dev/blog/building-a-sexy-mobile-ready-navbar-in-any-web-framework/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Mar 2022 05:56:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><link rel="stylesheet" href="ing-a-sexy-mobile-ready-navbar-in-any-web-framework/__styles.html"><link rel="stylesheet" href=../../_layouts/__styles.css><link rel="stylesheet" href=../../_layouts/blog-post/__styles.css><title>Building a sexy, mobile-ready navbar in any web framework</title><link rel="preload" href="https://use.typekit.net/liz3dnm.css" as="style"/><link rel="preload" href="../../assets/fonts/Atkinson/Atkinson-Hyperlegible-Regular.woff2" as="font" crossorigin="anonymous"/><link rel="preload" href="../../assets/fonts/Atkinson/Atkinson-Hyperlegible-Bold.woff2" as="font" crossorigin="anonymous"/><link rel="preload" href="../../assets/fonts/Atkinson/Atkinson-Hyperlegible-Italic.woff2" as="font" crossorigin="anonymous"/><link rel="preload" href="../../assets/fonts/Atkinson/Atkinson-Hyperlegible-BoldItalic.woff2" as="font" crossorigin="anonymous"/><link rel="stylesheet" href="https://use.typekit.net/liz3dnm.css"/><link rel="icon" type="img/jpg" href="../../assets/favicon.jpg"/><link rel="canonical" href="index.html"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><!-- TODO: automatically generate these at buildtime--><link rel="modulepreload" href="__client.html"/><link rel="modulepreload" href="__data.html"/><link rel="modulepreload" href="../../_layouts/__client.mjs"/><link rel="modulepreload" href="../../_layouts/__data.mjs"/><link rel="preload" as="fetch" href="../../index-2.html"/><link rel="preload" as="fetch" href="../../work/index.html"/><link rel="preload" as="fetch" href="../../contact/index.html"/><meta name="author" content="Ben Holmes"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@bholmesdev"/><meta name="twitter:creator" content="@bholmesdev"/><meta name="description" content="Let's build a slick navbar you can use in React, Svelte, or vanilla ES6 JS. We'll create an animated hamburger dropdown as well!"/><meta property="og:url" content="index.html"/><meta property="og:image" content="https://dev-to-uploads.s3.amazonaws.com/i/wln4kfatcbriu7lkdx06.jpg"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:site_name" content="Ben Holmes"/><meta property="og:title" content="Building a sexy, mobile-ready navbar in any web framework"/><meta property="og:description" content="Let's build a slick navbar you can use in React, Svelte, or vanilla ES6 JS. We'll create an animated hamburger dropdown as well!"/><!-- Analytics--><script async="async" defer="defer" data-domain="bholmes.dev" src="https://stats.bholmes.dev/js/index.js"></script></head><body><div id="loading-spinner" aria-label="loading"><div class="loading-spinner__graphic"><div class="loading-spinner__graphic--dash"></div><div class="loading-spinner__graphic--dash"></div><div class="loading-spinner__graphic--dash"></div></div></div><nav id="site-navigation"><div class="jump-to-section__container"><button id="jump-to-section__toggle" aria-label="Reveal table of contents"><span>0</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M128 192l128 128 128-128z"/></svg></button><div class="jump-to-section__label-container"><p id="jump-to-section__label"></p></div><ul id="jump-to-section__links"></ul></div><div class="primary-nav__container"><ul id="primary-nav__links"><li><a href="../../index.html">Ben</a></li><li><a class="active" href="../index.html">Blog</a></li><li><a href="../../work/index-2.html">Works</a></li><li><a href="../../contact/index-2.html">Contact</a></li></ul><button id="primary-nav__toggle" aria-label="Reveal navigation links"><div class="stripe-top"></div><div class="stripe-middle"></div><div class="stripe-bottom"></div></button></div></nav><div id="loading-spinner" aria-label="loading"><div class="loading-spinner__graphic"><div class="loading-spinner__graphic--dash"></div><div class="loading-spinner__graphic--dash"></div><div class="loading-spinner__graphic--dash"></div></div></div><div data-page="_layouts/blog-post"><main><article data-page="blog/building-a-sexy-mobile-ready-navbar-in-any-web-framework"><header><picture><source type="image/webp" srcset="/assets/pug-images/a7c5edf2-600.webp 600w, /assets/pug-images/a7c5edf2-800.webp 800w, /assets/pug-images/a7c5edf2-1400.webp 1400w" sizes="(min-width: 800px) 720px, 100vw"><source type="image/jpeg" srcset="/assets/pug-images/a7c5edf2-600.jpeg 600w, /assets/pug-images/a7c5edf2-800.jpeg 800w, /assets/pug-images/a7c5edf2-1400.jpeg 1400w" sizes="(min-width: 800px) 720px, 100vw"><img alt="Let's build a slick navbar you can use in React, Svelte, or vanilla ES6 JS. We'll create an animated hamburger dropdown as well!" loading="lazy" decoding="async" widths="800,1000,1400" src="../../assets/pug-images/a7c5edf2-600.jpg" width="1400" height="588"></picture><h1>Building a sexy, mobile-ready navbar in any web framework</h1><p class="details"><span><strong>9</strong> minute read</span><span class="spacer">‚Ä¢</span><span>Last updated <time pubdate="pubdate" datetime="2020-10-06T22:44:09.290Z">October 6, 2020</time></span></p></header><div><p>I've been building a lot more static sites recently, and every one of them needs the same thing:</p>
<ul>
<li><strong>A nice and <em>responsive</em> navigation bar</strong> with logo on the left, links on the right üí™</li>
<li>For mobile screens, collapse those links on the right into a <strong>hamburger menu with a dropdown</strong> üçî</li>
<li><strong>Hit all the marks for accessibility</strong>: semantic HTML, keyboard navigation, and more ‚ôøÔ∏è</li>
<li><strong>Add some polished animations</strong> for that <em>sleek, modern feel</em> ‚ú®</li>
</ul>
<p>Oh, and implement it using whatever framework the team is using. This may sound daunting... but after bouncing between <a href="https://reactjs.org/" target="_blank" rel="noreferrer">React</a>, <a href="https://svelte.dev/" target="_blank" rel="noreferrer">Svelte</a>, and plain-ole JS, and I think I've found a solid solution you can take with you wherever you go.</p>
<p><strong>Onwards!</strong></p>
<h2 id="link-first-whats-the-end-goal">First, what's the end goal?</h2>
<p>Here's a screen-grab from my most recent project: redesigning the <a href="https://hack4impact.org/" target="_blank" rel="noreferrer">Hack4Impact</a> nonprofit site.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/i/9zokfxj7g5lsp6248d8m.gif" alt="Demoing responsive mobile nav-bar with screen resize" loading="lazy"  /></p>
<p><em>Ignore the cats. We needed some purrfect placeholders while we waited on content</em> üòº</p>
<p>This has some fancy bells and whistles like that background blur effect, but it covers the general &quot;formula&quot; we're after!</p>
<p>##Lay down some HTML</p>
<p>Let's define the general structure of our navbar first.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logo<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dope-logo.svg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Our professional logo (ideally an svg!)<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mobile-dropdown-toggle<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- Cool hamburger icon --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dropdown-link-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/about<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>About Us<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/work<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Our Work<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span>
</code></pre>
<p><strong>A few things to note here:</strong></p>
<ol>
<li>We're <em>not</em> using an unordered list (ul) for our links here. You might see this recommendations floating around the web, and it's certainly a valid one! However, <a href="https://css-tricks.com/wrapup-of-navigation-in-lists/" target="_blank" rel="noreferrer">this nuanced for / against piece from Chris Coyier</a> really solidified things for me. In short: lists aren't <em>required</em> for a11y concerns (the problem is minimal at best), so we can ditch them if we have a fair reason to do so. In our case, we actually <em>need</em> to ditch the list so we can add our <code>dropdown-link-container</code> without writing invalid HTML. To understand what I mean, <a href="https://dev.to/bholmesdev/comment/16hi9" target="_blank" rel="noreferrer">I clarified the issue to a kind commenter here!</a></li>
<li>You'll notice our <code>dropdown-link-container</code> element, which wraps around all our links <em>except</em> the logo. This <code>div</code> won't do anything fancy for desktop users. But once we hit our mobile breakpoint, we'll hide these elements in a big dropdown triggered by our <code>mobile-dropdown-toggle</code> button.</li>
<li>We're slapping an <code>aria-hidden</code> attribute on our dropdown toggle. For a simple nav like this, there's no reason for a screenreader to pick up on this button; it can always pick up on all our links even when they're &quot;visually hidden&quot;, so there's no toggling going on ü§∑‚Äç‚ôÄÔ∏è Still, if you really want to mimic the &quot;toggle&quot; effect for these users (which you should for super busy navbars), you can <a href="https://www.w3.org/WAI/GL/wiki/Using_aria-expanded_to_indicate_the_state_of_a_collapsible_element" target="_blank" rel="noreferrer">look into adding <code>aria-expanded</code> to your markup</a>. This is getting a bit in the weeds for this article though, so you can use my easy-out for now.</li>
</ol>
<p>For those following along at home, you should have something like this:</p>
<p class="codepen" data-height="400" data-theme-id="light" data-default-tab="html,result" data-user="bholmesdev" data-slug-hash="zYqQvxj" style="height: 400px; text-align: center" data-pen-title="Detect current section">
<span><a href="https://codepen.io/bholmesdev/pen/zYqQvxj">See the Pen</a> by Benjamin Holmes (<a href="https://codepen.io/bholmesdev">@bholmesdev</a>)
  on <a href="https://codepen.io/">CodePen</a>.</span>
</p>
<h2 id="link-now-some-css">Now, some CSS</h2>
<p>Before worrying about all that mobile functionality, let's spiff up the <em>widescreen</em> experience.</p>
<h3 id="link-our-base-styles">Our base styles</h3>
<p>To start, we'll set up the alignment and width for our navbar.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">nav</span> <span class="token punctuation">{</span>
  <span class="token property">max-width</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">;</span> <span class="token comment">/* should match the width of your website content */</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span> <span class="token comment">/* center each of our links vertically */</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token comment">/* center all our content horizontally when we exceed that max-width */</span>
<span class="token punctuation">}</span>

<span class="token selector">.logo</span> <span class="token punctuation">{</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token comment">/* push all our links to the right side, leaving the logo on the left */</span>
<span class="token punctuation">}</span>

<span class="token selector">.dropdown-link-container > a</span> <span class="token punctuation">{</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token comment">/* space out all our links */</span>
<span class="token punctuation">}</span>

<span class="token selector">.mobile-dropdown-toggle</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token comment">/* hide our hamburger button until we're on mobile */</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The <code>max-width</code> property is an important piece here. Without it, our nav links will get pushed <em>wayyyy</em> to the right (and our logo <em>wayyyy</em> to the left) for larger screens. Here's a little before-and-after to show you what I mean.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/i/lau0lemuw8j7qoih7qvr.gif" alt="Nav bar with some bad resizing" loading="lazy"  /></p>
<p>**Before: ** Our nav elements stick to the edges of the screen. This doesn't match up with our page content very well, and makes navigation awkward on larger devices.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/i/q3fh0jg2lnz4eph7tzf4.gif" alt="Nav bar with some good resizing" loading="lazy"  /></p>
<p>**After: ** Everything is <em>beautifully</em> aligned, making our website a lot more &quot;scan-able.&quot;</p>
<p>Of course, you can add padding, margins, and background colors to-taste üë®‚Äçüç≥ But as long as you have a <code>max-width</code> and <code>margin: auto</code> for centering the nav on the page, you're 90% done already! Here's another pen to see it in action:</p>
<p class="codepen" data-height="400" data-theme-id="light" data-default-tab="result" data-user="bholmesdev" data-slug-hash="eYZapdM" style="height: 400px; text-align: center" data-pen-title="Detect current section">
<span><a href="https://codepen.io/bholmesdev/pen/eYZapdM">See the Pen</a> by Benjamin Holmes (<a href="https://codepen.io/bholmesdev">@bholmesdev</a>)
  on <a href="https://codepen.io/">CodePen</a>.</span>
</p>
<h3 id="link-adding-the-dropdown">Adding the dropdown</h3>
<p>Alright, now let's tackle our dropdown experience. First, we'll just focus on re-styling our links into a vertical column that takes up the height of the page:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span> <span class="token comment">/* arbitrary breakpoint, around the size of a tablet */</span>
  <span class="token selector">.dropdown-link-container</span> <span class="token punctuation">{</span>
    <span class="token comment">/* first, make our dropdown cover the screen */</span>
    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
    <span class="token comment">/* fix nav height on mobile safari, where 100vh is a little off */</span>
    <span class="token property">height</span><span class="token punctuation">:</span> -webkit-fill-available<span class="token punctuation">;</span>
    
    <span class="token comment">/* then, arrange our links top to bottom */</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
    <span class="token comment">/* center links vertically, push to the right horizontally.
       this means our links will line up with the rightward hamburger button */</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span>

    <span class="token comment">/* add margins and padding to taste */</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding-left</span><span class="token punctuation">:</span> 7vw<span class="token punctuation">;</span>
    <span class="token property">padding-right</span><span class="token punctuation">:</span> 7vw<span class="token punctuation">;</span>

    <span class="token property">background</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>This is pretty standard for the most part. Just a few things of note here:</p>
<p><strong>First, we use <code>position: fixed</code> to align our dropdown to the top of our <em>viewport</em>.</strong> This is distinct from <code>position: absolute</code>, which would shift the nav's position depending on our scroll position üò¨</p>
<p><strong>Then, we use the <code>-webkit-fill-available</code> property to fix our nav height in mobile Safari.</strong> I'm sure you're thinking <em>&quot;what, how is 100vh not 100% of the user's screen size? What did Apple do this time?&quot;</em> Well, the problem comes from the iOS' disappearing URL bar. When you scroll, a bunch of UI elements slide out of the way to give you more screen real estate. That's great and all, but it means anything that <em>used</em> to take up 100% of the screen now needs to be resized! We have this problem on our <a href="https://bitsofgood.org/" target="_blank" rel="noreferrer">Bits of Good nonprofit homepage</a>:</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/i/8v5kv4luayysgt93wrv1.gif" alt="Safari nav height problem" loading="lazy"  /></p>
<p>Notice the links aren't <em>quite</em> vertically centered until we swipe away all the Safari buttons. If you have a bunch of links, this could lead to cut-off text and images too!</p>
<p>In the end, all you need is the override <code>height: -webkit-fill-available</code> to specifically target this issue. Yes, feature flags like <code>-webkit</code> are usually frowned upon. But since this issue only pops up in mobile Safari (a webkit browser), there really isn't a problem with this approach in my opinion ü§∑‚Äç‚ôÄÔ∏è Worst case, the browser falls back to <code>100vh</code>, which is still a totally usable experience.</p>
<p>Finally, let's make sure our logo and dropdown buttons actually appear <em>on top of</em> our dropdown. Because of <code>position:fixed</code>, the dropdown will naturally hide everything underneath it until we add some <code>z-index</code>ing:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.logo, .mobile-dropdown-toggle</span> <span class="token punctuation">{</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token selector">.mobile-dropdown-toggle</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span> <span class="token comment">/* override that display: none attribute from before */</span>
  <span class="token punctuation">}</span>
  
  <span class="token selector">.dropdown-link-container</span> <span class="token punctuation">{</span>
    ...
    <span class="token property">z-index</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token comment">/* we're gonna avoid using -1 here, since it could position our navbar below other content on the page as well! */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p %="" codepen="" https:codepen.iobholmesdevpenKKzLdbR="" default-tab="css,result" %="">Squoosh this CodePen to our breakpoint size to see these styles at work:</p>
<h2 id="link-lets-animate-that-dropdown">Let's animate that dropdown</h2>
<p>Alright, we have most of our markup and styles finished up. Now, let's make that hamburger button do something!</p>
<p>We'll start with handling the menu button clicks. To show you how simple this setup is, I'll just use vanilla JS:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// get a ref to our navbar (assuming it has this id)</span>
<span class="token keyword">const</span> navElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"main-nav"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"mobile-dropdown-toggle"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// when we click our button, toggle a CSS class!</span>
    navElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">"dropdown-opened"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Now, we'll animate our dropdown into view whenever that <code>dropdown-opened</code> class gets applied:</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* inside the same media query from before */</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">...
  .dropdown-link-container</span> <span class="token punctuation">{</span>
    ...
    <span class="token comment">/* our initial state */</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token comment">/* fade out */</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* move out of view */</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> transform 0.2s<span class="token punctuation">,</span> opacity 0.2s<span class="token punctuation">;</span> <span class="token comment">/* transition these smoothly */</span>
  <span class="token punctuation">}</span>
  
  <span class="token selector">nav.dropdown-opened > .dropdown-link-container</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span> <span class="token comment">/* fade in */</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* move into view */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
  
</code></pre>
<p>Nice! With just a few lines of CSS, we just defined a little fade + slide in effect whenever we click our dropdown. You can mess around with it here. Modify the transitions however you wish!</p>
<p class="codepen" data-height="400" data-theme-id="light" data-default-tab="css,result" data-user="bholmesdev" data-slug-hash="jOqoQRZ" style="height: 400px; text-align: center" data-pen-title="Detect current section">
<span><a href="https://codepen.io/bholmesdev/pen/jOqoQRZ">See the Pen</a> by Benjamin Holmes (<a href="https://codepen.io/bholmesdev">@bholmesdev</a>)
  on <a href="https://codepen.io/">CodePen</a>.</span>
</p>
<h3 id="link-adapting-for-big-boy-components">Adapting for <em>big boy</em> components</h3>
<p>Alright, I know some of you want to slide this in your framework of choice at this point. Well, it shouldn't be too difficult! You can <strong>keep all the CSS the same,</strong> but here's a component snippet you can plop into React:</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">BigBoyNav</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>mobileNavOpened<span class="token punctuation">,</span> setMobileNavOpened<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token function-variable function">toggleMobileNav</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setMobileNavOpened</span><span class="token punctuation">(</span><span class="token operator">!</span>mobileNavOpened<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>mobileNavOpened <span class="token operator">?</span> <span class="token string">'dropdown-opened'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      ...
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mobile-dropdown-toggle<span class="token punctuation">"</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>toggleMobileNav<span class="token punctuation">}</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span><span class="token plain-text">
	)
}
</span></code></pre>
<p>And one for Svelte:</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- ...might've included this to show how simple Svelte is :) --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">let</span> mobileNavOpened <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">const</span> <span class="token function-variable function">toggleMobileNav</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> mobileNavOpened <span class="token operator">=</span> <span class="token operator">!</span>mobileNavOpened<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name"><span class="token namespace">className:</span>mobileNavOpened</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dropdown-opened<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mobile-dropdown-toggle<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>{toggleMobileNav}</span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span>
</code></pre>
<p>...You get the point. It's a toggle :laughing:</p>
<h2 id="link-the-little-things">The little things</h2>
<p>We have a pretty neat MVP at this point! I just left a couple accessiblity pieces for the end to get you to the finish line üèÅ</p>
<h3 id="link-collapse-that-dropdown-when-you-click-a-link">Collapse that dropdown when you click a link</h3>
<p><em><strong>Note:</strong> You can skip this if you're using a vanilla solution like Jekyll, Hugo or some plain HTML. In those cases, the entire page will reload when you click a link, so there's no need to hide the dropdown!</em></p>
<p>If we're gonna cover the users entire screen, we should probably hide that dropdown again once they choose the link they want. We could just <em>any</em> click events in our dropdown like so:</p>
<pre class="language-js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// if we clicked on something inside our dropdown...</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>ourDropdownElement<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    navElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'dropdown-opened'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>...but this wouldn't be super accessible :sweat:. Sure, it handles mouse clicks, but how will it fare against keyboard navigation with the &quot;tab&quot; key? In that case, the user will tab to the link they want, hit &quot;enter,&quot; and stay stuck in <code>dropdown-opened</code> without any feedback!</p>
<p>Luckily, there's a more &quot;declarative&quot; way to get around this problem. Instead of listening for user clicks, we can just listen for whenever the route changes! This way, we don't need to consider how the user navigates through our dropdown links; Just listen for the result.</p>
<p>Of course, this solution varies depending on your router of choice. Let's see how <a href="http://nextjs.org/" target="_blank" rel="noreferrer">NextJS</a> handles this problem:</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">BigBoyNav</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// grab the current route with a React hook</span>
  <span class="token keyword">const</span> activeRoute <span class="token operator">=</span> router<span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>

  <span class="token operator">...</span>
  <span class="token comment">// whenever "activeRoute" changes, hide our dropdown</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setMobileNavOpened</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>activeRoute<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Vanilla <a href="https://reactrouter.com/" target="_blank" rel="noreferrer">React Router</a> should handle this problem the same way. Regardless of your framework, just make sure you trigger your state change whenever the active route changes :thumbsup:</p>
<h3 id="link-handle-the-escape-key">Handle the &quot;escape&quot; key</h3>
<p>For <em>even better</em> keyboard accessiblity, we should also toggle the dropdown whenever the &quot;escape&quot; key is pressed. This is bound to a very specific user interaction, so we're free to add an event listener for this one:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// vanilla JS</span>
<span class="token keyword">const</span> <span class="token function-variable function">escapeKeyListener</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token operator">:</span> KeyboardEvent</span><span class="token punctuation">)</span> <span class="token operator">=></span>
	event<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">'Escape'</span> <span class="token operator">&amp;&amp;</span> navElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'dropdown-opened'</span><span class="token punctuation">)</span>

document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keypress'</span><span class="token punctuation">,</span> escapeKeyListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>...and for component frameworks, make sure you remove that event listener whenever the component is destroyed:</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token comment">// React</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">escapeKeyListener</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token operator">:</span> KeyboardEvent</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  event<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">'Escape'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">setMobileNavOpened</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// add the listener "on mount"</span>
  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keypress'</span><span class="token punctuation">,</span> escapeKeyListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// remove the listener "on destroy"</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'keypress'</span><span class="token punctuation">,</span> escapeKeyListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="link-see-a-fully-functional-react-example">See a fully-functional React example üöÄ</h2>
<p>If you're curious how this could all fit together in a React app, our entire <a href="https://hack4impact.org/" target="_blank" rel="noreferrer">Hack4Impact</a> website is accessible on CodeSandbox!</p>
<p><strong>To check out the Nav component, <a href="https://codesandbox.io/s/hack4impact-website-0kn5m?file=/components/shared/Nav/index.tsx" target="_blank" rel="noreferrer">head over here</a>.</strong></p>
<p><em>And thanks to <a href="https://thejameswang.me/" target="_blank" rel="noreferrer">James Wang</a> for nudging me to write this article. Might have sparked a whole mini-series on how we built our splash page</em></p>
</div><hr/><footer><p>Learn a little something? <strong><a href="https://twitter.com/intent/tweet?text=Woah,%20I%20learned%20so%20much%20from%20this!%20%22Building%20a%20sexy,%20mobile-ready%20navbar%20in%20any%20web%20framework%22%20by%20@bholmesdev%20https://bholmes.dev/blog/building-a-sexy-mobile-ready-navbar-in-any-web-framework/" target="_blank" rel="noreferrer">Share this post</a> on Twitter!</strong></p><section class="about-the-author"><img src="../../assets/images/me.jpg" alt="Hand drawn portrait of Ben Holmes"/><div><address><a rel="author" href="../../index.html">Ben Holmes </a></address>is a web developer + UI designer by trade from Charleston SC. He's been tinkering with JavaScript and CSS since 2014, and has lead a <a href="https://hack4impact.org/dev-bootcamp">full stack bootcamp curriculum</a> used by universities across the country. Now, he's working fulltime at Peloton and teaching the world a bit of web whimsy in his spare time.</div></section></footer></article></main><footer><div class="content"><div class="newsletter"><h2>Woah, there's a newsletter too!</h2><form action="https://tinyletter.com/bholmesdev" method="post" target="_blank"><label for="email">Email</label><input id="email" type="email" name="email" placeholder="10xengineer@genius.club" required="required"/><p class="newsletter__never-spam">Don't worry, I won't spam you</p><button class="cta-link" type="submit">Yes please, more content<svg xmlns="http://www.w3.org/2000/svg" fill="#5f4b32" width="34" height="34" viewBox="0 0 512 512"><path d="M48 270.9l118.9 44.6L181.7 464 256 360l104 104L464 48 48 270.9zm294.9 126L260 313.4 374.9 152 193.6 289.8 124.9 265l291-156.2-73 288.1z"/></svg></svg></button></form></div><div class="socials"><div class="socials__links"><a href="https://dev.to/bholmesdev" target="_blank" rel="noreferrer" aria-label="Ben's DEV.to blog"><svg xmlns="http://www.w3.org/2000/svg" fill="#5f4b32" width="34" height="34" viewBox="0 0 34 34"><path d="M18.119,22.38a1.48,1.48,0,0,0-.881-.33H15.917v7.929h1.321a1.449,1.449,0,0,0,.881-.33,1.172,1.172,0,0,0,.44-.991V23.371a1.172,1.172,0,0,0-.44-.991ZM39.669,9H12.331A3.332,3.332,0,0,0,9,12.324V39.676A3.332,3.332,0,0,0,12.331,43H39.669A3.332,3.332,0,0,0,43,39.676V12.324A3.332,3.332,0,0,0,39.669,9ZM20.7,28.67a3.466,3.466,0,0,1-3.668,3.586H13.508V19.7H17.1a3.462,3.462,0,0,1,3.593,3.586L20.7,28.67Zm7.647-6.731H24.3v2.918h2.471V27.1H24.3v2.918h4.047v2.244H23.626a1.531,1.531,0,0,1-1.569-1.494v-9.5A1.531,1.531,0,0,1,23.55,19.7h4.8v2.237Zm7.86,8.755c-1,2.333-2.794,1.872-3.6,0L29.682,19.7h2.471l2.257,8.631L36.654,19.7h2.471L36.207,30.694Z" transform="translate(-9 -9)"/></svg></a><a href="https://twitter.com/bholmesdev" target="_blank" rel="noreferrer" aria-label="Ben's Twitter"><svg xmlns="http://www.w3.org/2000/svg" fill="#5f4b32" width="34" height="34" viewBox="0 0 34 34"><path d="M55.383,67.4a14.634,14.634,0,0,1-4.157,1.144,7.264,7.264,0,0,0,3.185-4.008,14.384,14.384,0,0,1-4.6,1.757,7.237,7.237,0,0,0-12.524,4.95,7.087,7.087,0,0,0,.187,1.652,20.514,20.514,0,0,1-14.924-7.574A7.253,7.253,0,0,0,24.8,75a7.07,7.07,0,0,1-3.29-.9v.09a7.245,7.245,0,0,0,5.809,7.1,7.287,7.287,0,0,1-1.907.254,6.829,6.829,0,0,1-1.361-.135,7.25,7.25,0,0,0,6.766,5.032,14.513,14.513,0,0,1-8.995,3.1,14.673,14.673,0,0,1-1.727-.1,20.234,20.234,0,0,0,11.081,3.275c13.331,0,20.613-11.043,20.613-20.621,0-.314-.007-.628-.022-.935A14.736,14.736,0,0,0,55.383,67.4Z" transform="translate(-20.1 -64)"/></svg></a><a href="https://github.com/holben888" target="_blank" rel="noreferrer" aria-label="Ben's GitHub"><svg xmlns="http://www.w3.org/2000/svg" fill="#5f4b32" width="34" height="34" viewBox="0 0 34 34"><path d="M10,115.987a18.6,18.6,0,0,0,.434,4.181,12.443,12.443,0,0,0,1.2,3.251,9.207,9.207,0,0,0,1.943,2.429,11.2,11.2,0,0,0,2.56,1.714,15.1,15.1,0,0,0,3.15,1.079,26,26,0,0,0,3.615.583q1.847.167,4.056.167,2.227,0,4.073-.167a26.227,26.227,0,0,0,3.626-.583,15.681,15.681,0,0,0,3.168-1.079,11.191,11.191,0,0,0,2.578-1.714,9.284,9.284,0,0,0,1.964-2.429,12.2,12.2,0,0,0,1.2-3.251A18.6,18.6,0,0,0,44,115.987a10.2,10.2,0,0,0-2.758-7.133,8.923,8.923,0,0,0,.274-.906,12.4,12.4,0,0,0,.232-1.447,8.1,8.1,0,0,0-.083-2.168,11.516,11.516,0,0,0-.708-2.512l-.25-.049a3.352,3.352,0,0,0-.874.024,9.708,9.708,0,0,0-1.412.3,12.073,12.073,0,0,0-2.078.864,24.135,24.135,0,0,0-2.685,1.6,26.284,26.284,0,0,0-6.668-.666,26.208,26.208,0,0,0-6.651.666,22.6,22.6,0,0,0-2.7-1.6,13.381,13.381,0,0,0-2.054-.864,8.05,8.05,0,0,0-1.429-.291,4.676,4.676,0,0,0-.84-.042,1.455,1.455,0,0,0-.274.059,11.462,11.462,0,0,0-.708,2.512,8.1,8.1,0,0,0-.083,2.168,12.664,12.664,0,0,0,.232,1.447,8.922,8.922,0,0,0,.274.906A10.223,10.223,0,0,0,10,115.987Zm4.174,4.174a5.879,5.879,0,0,1,2.179-4.389,4.334,4.334,0,0,1,1.513-.906,6.575,6.575,0,0,1,1.953-.347c.725-.028,1.422-.021,2.085.017s1.485.09,2.46.156,1.818.1,2.526.1,1.551-.031,2.529-.1,1.8-.118,2.46-.156,1.36-.045,2.085-.017a6.687,6.687,0,0,1,1.953.347,4.366,4.366,0,0,1,1.513.906,5.814,5.814,0,0,1,2.179,4.389,8.215,8.215,0,0,1-.357,2.536,6.367,6.367,0,0,1-.912,1.853,4.535,4.535,0,0,1-1.547,1.273,10.782,10.782,0,0,1-1.929.8,13.909,13.909,0,0,1-2.411.441c-.982.1-1.856.17-2.626.191s-1.749.035-2.935.035-2.165-.01-2.935-.035-1.644-.087-2.626-.191a13.648,13.648,0,0,1-2.411-.441,11.153,11.153,0,0,1-1.929-.8,4.535,4.535,0,0,1-1.547-1.273,6.414,6.414,0,0,1-.916-1.853A8.438,8.438,0,0,1,14.174,120.161Zm17.076-.333c0,1.759.951,3.188,2.127,3.188s2.127-1.426,2.127-3.188-.951-3.188-2.127-3.188S31.25,118.066,31.25,119.828Zm-12.75,0c0,1.759.951,3.188,2.127,3.188s2.127-1.426,2.127-3.188-.951-3.188-2.127-3.188S18.5,118.066,18.5,119.828Z" transform="translate(-10 -101.754)"/></svg></a></div><p>Follow along with <strong>Ben</strong> for the fun, for the whimsy, and for the love of building websites ‚ô• </p></div></div></footer></div></body>
          <script src="../../__main.mjs" defer></script>
          
          
<!-- Mirrored from bholmes.dev/blog/building-a-sexy-mobile-ready-navbar-in-any-web-framework/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Mar 2022 05:56:36 GMT -->
</html>