<!DOCTYPE html><html lang="en-US">
<!-- Mirrored from bholmes.dev/blog/picture-perfect-image-optimization/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Mar 2022 05:56:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><link rel="stylesheet" href="__styles.html"><link rel="stylesheet" href=../../_layouts/__styles.css><link rel="stylesheet" href=../../_layouts/blog-post/__styles.css><title>Picture perfect image optimization for any web framework</title><link rel="preload" href="https://use.typekit.net/liz3dnm.css" as="style"/><link rel="preload" href="../../assets/fonts/Atkinson/Atkinson-Hyperlegible-Regular.woff2" as="font" crossorigin="anonymous"/><link rel="preload" href="../../assets/fonts/Atkinson/Atkinson-Hyperlegible-Bold.woff2" as="font" crossorigin="anonymous"/><link rel="preload" href="../../assets/fonts/Atkinson/Atkinson-Hyperlegible-Italic.woff2" as="font" crossorigin="anonymous"/><link rel="preload" href="../../assets/fonts/Atkinson/Atkinson-Hyperlegible-BoldItalic.woff2" as="font" crossorigin="anonymous"/><link rel="stylesheet" href="https://use.typekit.net/liz3dnm.css"/><link rel="icon" type="img/jpg" href="../../assets/favicon.jpg"/><link rel="canonical" href="index.html"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><!-- TODO: automatically generate these at buildtime--><link rel="modulepreload" href="__client.html"/><link rel="modulepreload" href="__data.html"/><link rel="modulepreload" href="../../_layouts/__client.mjs"/><link rel="modulepreload" href="../../_layouts/__data.mjs"/><link rel="preload" as="fetch" href="../../index-2.html"/><link rel="preload" as="fetch" href="../../work/index.html"/><link rel="preload" as="fetch" href="../../contact/index.html"/><meta name="author" content="Ben Holmes"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@bholmesdev"/><meta name="twitter:creator" content="@bholmesdev"/><meta name="description" content="Image optimization is never fun to deal with. Let's learn how the picture element + 11ty can save any static site from bloated load times."/><meta property="og:url" content="index.html"/><meta property="og:image" content="../../assets/blog/picture-perfect-image-optimization.png"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:site_name" content="Ben Holmes"/><meta property="og:title" content="Picture perfect image optimization for any web framework"/><meta property="og:description" content="Image optimization is never fun to deal with. Let's learn how the picture element + 11ty can save any static site from bloated load times."/><!-- Analytics--><script async="async" defer="defer" data-domain="bholmes.dev" src="https://stats.bholmes.dev/js/index.js"></script></head><body><div id="loading-spinner" aria-label="loading"><div class="loading-spinner__graphic"><div class="loading-spinner__graphic--dash"></div><div class="loading-spinner__graphic--dash"></div><div class="loading-spinner__graphic--dash"></div></div></div><nav id="site-navigation"><div class="jump-to-section__container"><button id="jump-to-section__toggle" aria-label="Reveal table of contents"><span>0</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M128 192l128 128 128-128z"/></svg></button><div class="jump-to-section__label-container"><p id="jump-to-section__label"></p></div><ul id="jump-to-section__links"></ul></div><div class="primary-nav__container"><ul id="primary-nav__links"><li><a href="../../index.html">Ben</a></li><li><a class="active" href="../index.html">Blog</a></li><li><a href="../../work/index-2.html">Works</a></li><li><a href="../../contact/index-2.html">Contact</a></li></ul><button id="primary-nav__toggle" aria-label="Reveal navigation links"><div class="stripe-top"></div><div class="stripe-middle"></div><div class="stripe-bottom"></div></button></div></nav><div id="loading-spinner" aria-label="loading"><div class="loading-spinner__graphic"><div class="loading-spinner__graphic--dash"></div><div class="loading-spinner__graphic--dash"></div><div class="loading-spinner__graphic--dash"></div></div></div><div data-page="_layouts/blog-post"><main><article data-page="blog/picture-perfect-image-optimization"><header><picture><source type="image/webp" srcset="/assets/pug-images/30984383-600.webp 600w, /assets/pug-images/30984383-800.webp 800w, /assets/pug-images/30984383-1400.webp 1400w" sizes="(min-width: 800px) 720px, 100vw"><source type="image/jpeg" srcset="/assets/pug-images/30984383-600.jpeg 600w, /assets/pug-images/30984383-800.jpeg 800w, /assets/pug-images/30984383-1400.jpeg 1400w" sizes="(min-width: 800px) 720px, 100vw"><img alt="Image optimization is never fun to deal with. Let's learn how the picture element + 11ty can save any static site from bloated load times." loading="lazy" decoding="async" widths="800,1000,1400" src="../../assets/pug-images/30984383-600.jpg" width="1400" height="587"></picture><h1>Picture perfect image optimization for any web framework</h1><p class="details"><span><strong>11</strong> minute read</span><span class="spacer">‚Ä¢</span><span>Last updated <time pubdate="pubdate" datetime="2021-05-04T20:01:36.550Z">May 4, 2021</time></span></p></header><div><p>This entry comes from my web wizardry newsletter, where I explore evergreen solutions to common web dev problems (no matter your favorite framework). If you like what you see, <a href="http://tinyletter.com/bholmesdev" target="_blank" rel="noreferrer"><strong>go sign up for free</strong></a> ü™Ñ</p>
<hr>
<p>If you've been building websites for a while, &quot;optimize your images&quot; probably sounds like &quot;eat your veggies.&quot; It's good for your website's health, it'll make your SEO big and strong... but compressing every image by hand doesn't sound appetizing to me ü§¢</p>
<p>So we're going to talk <strong>easy wins</strong> for 1) optimizing image file formats and sizes with the <code>picture</code> element, and 2) an automation process using 11ty that you can take with you to your build setup of choice üí™</p>
<p>üíÅ <strong>Intended audience:</strong> <em>This is meant for developers building &quot;template-driven&quot;  static sites (11ty, Jekyll, Hugo, plain HTML) or &quot;component-driven&quot; web apps (NextJS, Gatsby, etc). If you're working with site builders like Wordpress or Shopify, this probably isn't the article for you!</em></p>
<h2 id="link-so-whats-wrong-with-my-images-right-now">ü•¶ So what's wrong with my images right now?</h2>
<p>To show what's at stake, here's the lighthouse rating from one of my recent blog posts (images compressed with <a href="https://tinyjpg.com/" target="_blank" rel="noreferrer">tinyJPG</a> mind you!)</p>
<p><picture><source type="image/webp" srcset="/assets/md-images/655f520e-600.webp 600w, /assets/md-images/655f520e-1000.webp 1000w, /assets/md-images/655f520e-1400.webp 1400w" sizes="(min-width: 800px) 720px, 100vw"><source type="image/jpeg" srcset="/assets/md-images/655f520e-600.jpeg 600w, /assets/md-images/655f520e-1000.jpeg 1000w, /assets/md-images/655f520e-1400.jpeg 1400w" sizes="(min-width: 800px) 720px, 100vw"><img alt="List of poor image loadtimes from Chromium Lighthouse performance report" loading="lazy" decoding="async" src="../../assets/md-images/655f520e-600.jpg" width="1400" height="1653"></picture></p>
<p><em>Yikes!</em> 10 seconds to grab all those images? Chromium definitely does some throttling to test on &quot;slower&quot; internet connections, but it's clear those KB rating are quite high (especially for mobile users).</p>
<p>This just to show that <strong>there's much more to image optimization than compression!</strong> There's also:</p>
<ul>
<li><strong>Serving the right format,</strong> with JPGs preferrable and <code>.webp</code> or <code>.avi</code> <em>especially</em> so</li>
<li><strong>Serving the right size,</strong> ideally with <em>multiple copies</em> of the same image at different widths and heights</li>
<li><strong>Loading at the right time,</strong> reaching for &quot;lazy&quot; loading when we can</li>
<li>Heck, even <strong>including <code>alt</code> text</strong> can affect your site from both accessibility and SEO standpoints</li>
</ul>
<p>I learned a bit about addressing those format and size problems using <code>picture</code> elements, and my lighthouse definitely thanked me for it üòÑ</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Dang, at first my performance on <a href="https://t.co/iTZUPe5aBp">https://t.co/iTZUPe5aBp</a> was getting destroyed by a *ton* of fat JPGs I never condensed down (especially on blog posts). Installed <a href="https://twitter.com/eleven_ty?ref_src=twsrc%5Etfw">@eleven_ty</a> &#39;s image plugin, put in an hour of work... and just look at it ü§© <a href="https://t.co/l5GLACk8F7">pic.twitter.com/l5GLACk8F7</a></p>&mdash; Ben Holmes (@BHolmesDev) <a href="https://twitter.com/BHolmesDev/status/1378869249930842116?ref_src=twsrc%5Etfw">April 5, 2021</a></blockquote>
<h2 id="link-fixing-format-size-problems-with-the-picture-element">üåÖ Fixing format + size problems with the <code>picture</code> element</h2>
<p>So how can we deliver different image files for the right people? Well, let's start with a humble image element like this one:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/mega-chonker.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1000<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>A perfectly sized cat<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<p><em>Refer to <a href="https://i.imgur.com/sNqNi9E.png" target="_blank" rel="noreferrer">this handy chart</a> for understanding &quot;chonk&quot; levels</em></p>
<p>Now, say we've opened our image editor and saved a smaller version for mobile users sitting at, say, 600 pixels wide. You could probably set up some CSS to hot-swap your images depending on your screen width:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>desktop<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/chonker-1000w.jpg<span class="token punctuation">"</span></span>
    <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1000<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>A perfectly sized cat<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mobile<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/chonker-600w.jpg<span class="token punctuation">"</span></span>
    <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>A perfectly sized cat<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span><span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.desktop</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@media</span><span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 601px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.mobile</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>...But this isn't very scalable. What if we're, say, working in a markdown file where we can't append class names? Or we have different formats we want to switch between depending on browser support (JPEG vs WEBP for example)?</p>
<p>This is where the <code>picture</code> element comes in. Take this example here:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>picture</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- List out all the WEBP images + WEBP sizes we can choose from --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/webp<span class="token punctuation">"</span></span>
    <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/chonker-600w.webp 600w, /assets/chonker-1000w.webp 1000w<span class="token punctuation">"</span></span>
    <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100vw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- In case a browser doesn't support WEBP, fall back to this set of JPG sources --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/jpeg<span class="token punctuation">"</span></span>
    <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/chonker-600w.jpg 600w, /assets/chonker-1000w.jpg 1000w<span class="token punctuation">"</span></span>
    <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100vw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- The actual, style-able img element that "receives" these sources --></span>
  <span class="token comment">&lt;!-- Also includes a default src in case no &lt;source> can be applied --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/chonker-600.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>A perfectly sized cat<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>picture</span><span class="token punctuation">></span></span>
</code></pre>
<p><strong>Some big takeaways:</strong></p>
<ol>
<li>We can wrap our image tags in a <code>picture</code> to unlock a &quot;switch&quot; case of sorts, with your browser picking the first <code>source</code> element that it's able to render. But admittedly, <em>most</em> modern browsers will reach for those shiny <code>.webp</code> files listed under <code>type=&quot;image/webp&quot;</code> without needing the JPG fallbacks (<a href="https://caniuse.com/?search=webp" target="_blank" rel="noreferrer">current browser support here</a>).</li>
<li>Each source has a <strong><code>srcset</code> property</strong>, which takes in a list of source URLs for a given image format. These sources are comma-separated, plus a pixel-value width using that <code>w</code> on the end. The browser will then decide which source to use based on the <code>sizes</code> property (more on that in the next section)</li>
<li><strong>Picture elements are not images themselves!</strong> This is an interesting gotcha when you start trying to style those images. So, you'll want to keep putting all your image-specific CSS (ex. <code>object-fit</code>) on that <code>img</code> element instead of the <code>picture</code>.</li>
</ol>
<h3 id="link-the-sizes-attribute">The <code>sizes</code> attribute</h3>
<p><code>Sizes</code> is an interesting beast. It <em>almost</em> looks like CSS actually, with some small syntax differences.</p>
<p>Remember those <code>mobile</code> and <code>desktop</code> helper classes from earlier? Well, <code>sizes</code> let us do something rather similar.</p>
<iframe width="375" height="300" src="https://www.youtube-nocookie.com/embed/uGiG2VWkeSs"
          title="YouTube video player" frameborder="0" data-embed-type="youtube"
          allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe>
<p><strong>Key takeaways from the video:</strong></p>
<p>In general, the <code>sizes</code> attribute is a way to tell the browser <strong>which image to use for a given screen size.</strong></p>
<p>Let's say we have a banner image that takes up the full width of the screen for mobile users, but we have a table of contents that takes up half the width at <code>500px</code> wide and above.</p>
<p><picture><source type="image/webp" srcset="/assets/md-images/2e1bf1e5-600.webp 600w, /assets/md-images/2e1bf1e5-1000.webp 1000w" sizes="(min-width: 800px) 720px, 100vw"><source type="image/jpeg" srcset="/assets/md-images/2e1bf1e5-600.jpeg 600w, /assets/md-images/2e1bf1e5-1000.jpeg 1000w" sizes="(min-width: 800px) 720px, 100vw"><img alt="Table of contents taking up half the width of the screen" loading="lazy" decoding="async" src="../../assets/md-images/2e1bf1e5-600.jpg" width="1000" height="492"></picture></p>
<p>Putting on our CSS hat, this means our image is <code>100vw</code> (100% screen width) below <code>500px</code>, and <code>50vw</code> when we hit <code>@media (min-width: 500px)</code>. This perfectly translates to <code>sizes</code> üëâ <code>sizes=&quot;(min-width: 500px) 50vw, 100vw&quot;</code></p>
<p>And in the context of a <code>picture</code> element:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>picture</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--stack up your media queries as sizes, delineated by commas ","--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/webp<span class="token punctuation">"</span></span>
    <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/img/6dfd7ac6-600.webp 600w, /img/6dfd7ac6-900.webp 900w...<span class="token punctuation">"</span></span>
    <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(min-width: 500px) 50vw, 100vw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Blue and purple cluster of stars<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/img/6dfd7ac6-600.jpeg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>picture</span><span class="token punctuation">></span></span>
</code></pre>
<p>As a rule-of-thumb, you should probably use <code>100vw</code> as a &quot;base case&quot; for smaller devices, and rack up media queries on top depending on how your layout changes. This does mean <code>sizes</code> will be different depending on the <em>context</em> your images are living in, so look out for that if you're using a component-based framework!</p>
<p><em><strong>Note:</strong> You may be wondering why browsers can't do all this work for us. Well, this comes down to the unpredictable nature of &quot;width&quot; when you're throwing around CSS everywhere. If you're like me, you tend to use a lot of percentages like <code>width: 100%</code> for image blocks, which may adjust depending on the container, padding, margins, etc that get applied. If the browser tried to decipher all this styling before loading an image, you'd be waiting a lot longer than you might want!</em></p>
<h3 id="link-respecting-hd-displays">Respecting HD displays</h3>
<p>Note that our screen's pixel density can also affect which image gets picked from a given <code>srcset</code>. For high-density mobile displays, it'll actually choose an image that's <strong>roughly double</strong> the width you specify! Say we have a simple <code>picture</code> declaration like this for instance:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>picture</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/webp<span class="token punctuation">"</span></span>
    <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/img/galaxy-600.webp 600w, /img/galaxy-1200.webp 1200w<span class="token punctuation">"</span></span>
    <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100vw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>picture</span><span class="token punctuation">></span></span>
</code></pre>
<p>We're using <code>100vw</code> here, so the browser should match the image source's width to the width of the display. Intuitively, we'd think that a <code>600px</code> wide display would receive <code>/img/galaxy-600.webp</code>... but for HD displays like Macbooks or modern smartphones, it'll actually reach for an image at 600 x 2 pixels wide (<code>/img/galaxy-1200.webp 1200w</code> in this case). So when you're generating multiple image sizes, always reach for those higher values üí°</p>
<h2 id="link-applying-this-to-your-site-with-11ty-image">üî® Applying this to your site with 11ty image</h2>
<p>Alright, so we see how useful the <code>picture</code> element can be... but it's only as powerful as the pictures we can supply to it. Do we really want to create all those beautifully resized, optimized, multi-format images <em>by hand?</em></p>
<p>Luckily, there's a lot of tools to handle this process for us, and I'm going to hone in on the simplest I've found: <a href="https://www.11ty.dev/docs/plugins/image/#output-directory" target="_blank" rel="noreferrer">11ty's image plugin.</a></p>
<p>üö® Now before you start scrolling to the next section, <strong>no, you don't need to build your site with 11ty to use this.</strong> Playing around with this tool, I realized it's perfect for generating optimized images on-the-fly for <em>any</em> use case, no command line prowess required üî•</p>
<h3 id="link-generating-optimized-images">Generating optimized images</h3>
<p>Let's play along at home! Seriously, drop everything and go open your code editor üßë‚Äçüíª Then, make a fresh directory / folder and create a basic <code>package.json</code>. We'll be installing the <code>@11ty/eleventy-img</code> dependency:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">mkdir</span> woah-11ty-image-is-cool <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> woah-11ty-image-is-cool
<span class="token function">npm</span> init -y <span class="token comment"># Make a package.json with defaults for everything</span>
<span class="token function">npm</span> i @11ty/eleventy-img
</code></pre>
<p>Now make a random JavaScript file for us to play with (I'll call mine <code>image-generator.js</code>). Inside, just paste the example code at the top of <a href="https://www.11ty.dev/docs/plugins/image/#output-directory" target="_blank" rel="noreferrer">11ty's documentation</a>:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> Image <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@11ty/eleventy-img"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">"https://images.unsplash.com/photo-1608178398319-48f814d0750c"</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> stats <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">Image</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    widths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">300</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stats<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Hm, this looks pretty straightforward. Let's run it from our terminal and see what happens:</p>
<pre class="language-bash"><code class="language-bash">node ./image-generator.js
</code></pre>
<p>With any luck, you should see a couple new faces appear:</p>
<ul>
<li><strong>A <code>/img</code> directory</strong> with 2 images inside: 1 JPG picture of a galaxy that's 300 pixels wide, and a matching <code>webp</code> image of the same size. Notice how this matches up with our <code>widths</code> array from the code snippet üëÄ</li>
<li><strong>A <code>/cache</code> directory</strong> with some strings of characters. Think of this like a note-to-self for the plugin about the image we downloaded. It's expensive to download images off the internet, so to avoid loading it <em>every time we run the script,</em> 11ty checks the cache to see if we've already loaded the image in the past üëç</li>
</ul>
<p>You'll also see a <a href="https://www.11ty.dev/docs/plugins/image/#usage" target="_blank" rel="noreferrer">blob of &quot;stats&quot;</a> logged to your console. Most of these properties are self-explanatory, and some should look familiar from our <code>picture</code> walkthrough earlier on (namely the <code>sourceType</code> and <code>srcset</code> attributes). We even get the output <code>size</code> of the image in bytes, in case you want to inspect the differences between formats and sizes.</p>
<p>But wait, there's more! Let's try experimenting with different widths and formats:</p>
<pre class="language-js"><code class="language-js"><span class="token operator">...</span>
<span class="token keyword">let</span> stats <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">Image</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  widths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1400</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  formats<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'jpg'</span><span class="token punctuation">,</span> <span class="token string">'webp'</span><span class="token punctuation">,</span> <span class="token string">'gif'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
</code></pre>
<p>We should get a plethora of resolutions inside that <code>img</code> directory. As you can imagine, this is perfect for our picture element from earlier. You can whip up all the <code>source</code>s and <code>size</code> attributes by hand as a learning exercise...</p>
<h3 id="link-automating-our-picture-elements">Automating our picture elements</h3>
<p>...Or let the plugin do this for us! Along with that handy array of <code>stats</code>, 11ty image will splice everything into a valid <code>&lt;picture&gt;</code> element. All we need is a call to the <code>generateHTML</code> helper:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> Image <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@11ty/eleventy-img"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">"https://images.unsplash.com/photo-1608178398319-48f814d0750c"</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> stats <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">Image</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    widths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1400</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> html <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token function">generateHTML</span><span class="token punctuation">(</span>stats<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  	alt<span class="token operator">:</span> <span class="token string">"A blue and purple galaxy of stars"</span><span class="token punctuation">,</span> <span class="token comment">// alt text is required!</span>
	sizes<span class="token operator">:</span> <span class="token string">"100vw"</span> <span class="token comment">// remember our training with "sizes" from earlier...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>With any luck, we should see a beautiful <code>picture</code> we can use anywhere on our site:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>picture</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/webp<span class="token punctuation">"</span></span>
          <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/img/6dfd7ac6-300.webp 300w, /img/6dfd7ac6-1000.webp 1000w,
                  /img/6dfd7ac6-1400.webp 1400w<span class="token punctuation">"</span></span>
          <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100vw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/jpeg<span class="token punctuation">"</span></span>
          <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/img/6dfd7ac6-300.jpeg 300w, /img/6dfd7ac6-1000.jpeg 1000w,
                  /img/6dfd7ac6-1400.jpeg 1400w<span class="token punctuation">"</span></span>
          <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100vw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>A blue and purple galaxy of stars<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/img/6dfd7ac6-300.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1400<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1402<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>picture</span><span class="token punctuation">></span></span>
</code></pre>
<h3 id="link-going-further">Going further</h3>
<p>This plugin has a whole host of extra options to explore too, like</p>
<ul>
<li><a href="https://www.11ty.dev/docs/plugins/image/#caching-remote-images-locally-new-in-image-0.3.0" target="_blank" rel="noreferrer">messing with cache options</a> for faster build times</li>
<li><a href="https://www.11ty.dev/docs/plugins/image/#synchronous-usage" target="_blank" rel="noreferrer">generating image stats + picture elements synchronously</a>, so you don't have wait for the images to <em>actually</em> get generated</li>
<li><a href="https://www.11ty.dev/docs/plugins/image/#advanced-control-of-sharp-image-processor" target="_blank" rel="noreferrer">fine-tuning the Sharp image processor</a> to tweak the output to your needs</li>
</ul>
<h2 id="link-using-11ty-image-with-any-framework">üì£ Using 11ty image with any framework</h2>
<p>If all this <code>&lt;picture&gt;</code> madness excites you, go throw this 11ty image plugin at your own <code>/assets</code> directory! I wrote this handy little script to crawl all the images in a directory (<a href="https://coderrocketfuel.com/article/recursively-list-all-the-files-in-a-directory-using-node-js" target="_blank" rel="noreferrer">not recursively mind you</a>) and spit out some optimized files:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> Image <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@11ty/eleventy-img'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> readdir <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs/promises'</span><span class="token punctuation">)</span> <span class="token comment">// node helper for reading folders</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> parse <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span> <span class="token comment">// node helper for grabbing file names</span>

<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> imageDir <span class="token operator">=</span> <span class="token string">'./images'</span> <span class="token comment">// match this to your assets directory</span>
  <span class="token keyword">const</span> files <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">readdir</span><span class="token punctuation">(</span>imageDir<span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> file <span class="token keyword">of</span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> stats <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">Image</span><span class="token punctuation">(</span>imageDir <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> file<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      widths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1400</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// edit to your heart's content</span>
      <span class="token function-variable function">filenameFormat</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> src<span class="token punctuation">,</span> width<span class="token punctuation">,</span> format</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token comment">// make the filename something we can recognize.</span>
        <span class="token comment">// In this case, it's just:</span>
        <span class="token comment">// [original file name] - [image width] . [file format]</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">parse</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>width<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>format<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stats<span class="token punctuation">)</span> <span class="token comment">// remove this if you don't want the logs</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>If you <em>happen</em> to use 11ty on your personal site (or at least want to try), you can automate the <code>picture</code> element insertion as well. <a href="https://www.11ty.dev/docs/plugins/image/#use-this-in-your-templates" target="_blank" rel="noreferrer">Their guide</a> covers building your own &quot;shortcode&quot; function to insert the right <code>picture</code> for every unoptimized image on your site.</p>
<p>Even without this luxury though, this script is a great addition to any JS-based build step. Here's a basic <code>Image</code> component I could slap into any React app based on that script above:</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token comment">// consider using TypeScript for checking all these props!</span>
<span class="token keyword">const</span> <span class="token function-variable function">Image</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> fileName<span class="token punctuation">,</span> sizes<span class="token punctuation">,</span> <span class="token operator">...</span>imageProps <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>picture</span><span class="token punctuation">></span></span><span class="token plain-text">
	  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span>
		<span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/webp<span class="token punctuation">"</span></span>
		<span class="token attr-name">srcSet</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/img/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-600.webp 600w, /img/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-1000.webp 1000w, /img/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-1400.webp 1400w</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>
		<span class="token attr-name">sizes</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sizes<span class="token punctuation">}</span></span>
	  <span class="token punctuation">/></span></span><span class="token plain-text">
	  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span>
		<span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/jpeg<span class="token punctuation">"</span></span>
		<span class="token attr-name">srcSet</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/img/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-600.jpeg 600w, /img/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-1000.jpeg 1000w, /img/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-1400.jpeg 1400w</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>
		<span class="token attr-name">sizes</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sizes<span class="token punctuation">}</span></span>
	  <span class="token punctuation">/></span></span><span class="token plain-text">
	  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/img/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-600.jpeg</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">imageProps</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>picture</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span>
</code></pre>
<p>Assuming all my images get generated with this file naming convention (and I always have images at 600, 1000, and 1400 widths), this should pull all our optimized images no problem üëç</p>
<p><strong>Here's a brief rundown</strong> on applying these learnings to <code>create-react-app</code>:</p>
<iframe width="375" height="300" src="https://www.youtube-nocookie.com/embed/RAzXB-qu22s"
          title="YouTube video player" frameborder="0" data-embed-type="youtube"
          allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe>
<h3 id="link-go-try-it-yourself">Go try it yourself</h3>
<p>You can check out a running example of <code>create-react-app</code> + 11ty image in <a href="https://codesandbox.io/s/little-tree-dmr1w?file=/App.js" target="_blank" rel="noreferrer"><strong>this CodeSandbox</strong></a> ü™Ñ</p>
<p>This version will listen for new images during development as well. Feel free to <a href="https://github.com/Holben888/create-react-app-with-11ty-image" target="_blank" rel="noreferrer">fork the source code</a> to try in your own project (and find the edge cases I inevitably missed üòâ).</p>
<h3 id="link-other-options-for-next-nuxt-gatsby-and-more">Other options for Next, Nuxt, Gatsby and more</h3>
<p>As cool as 11ty image can be, I should definitely highlight some &quot;native&quot; options for popular meta-frameworks:</p>
<ul>
<li><strong>For Next, <a href="https://nextjs.org/docs/api-reference/next/image" target="_blank" rel="noreferrer">their built-in Image component</a> is perfect.</strong> They'll also cover our sizes, formats, and image compression automatically, plus some neat props for eagerly loading images that are &quot;above the fold&quot; using <code>priority</code>.</li>
<li><strong>For Nuxt, <a href="https://image.nuxtjs.org/components/nuxt-img/" target="_blank" rel="noreferrer">their <code>&lt;nuxt-img&gt;</code> and <code>&lt;nuxt-picture&gt;</code> components</a> should have you covered.</strong> These offer most of the same benefits as our 11ty image plugin, letting you specify different formats, a <code>sizes</code> attribute, and background image compression. Just be sure to use <code>nuxt-picture</code> if you want to allow multiple image formats instead of just one!</li>
<li><strong>For Gatsby, <a href="https://www.gatsbyjs.com/plugins/gatsby-plugin-image" target="_blank" rel="noreferrer">you've got the gold standard of image optimization</a> üèÜ</strong> Their image plugin was actually my main reason for using the framework a few years back, and it's only gotten better. The nicest feature (beyond matching everything we've talked about) is their loading animations for images. You can fade in over vector traces of an image, use a blur effect, and a lot more. The only downside is the hefty JS bundle it loads into the browser to pull this off, which I've <a href="../before-building-your-next-static-site-with-react-consider-this/index.html" target="_blank" rel="noreferrer">given my opinions on over here</a>.</li>
<li><strong>Beyond the framework, you can <a href="https://davidwalsh.name/image-optimization-cloudinary" target="_blank" rel="noreferrer">optimize remotely using something like Cloudinary</a>.</strong> This is a great option if you don't own the build process for your website, or don't want to store your images inside your code repository. For example, you can point all your Wordpress images to a cloudinary bucket and pull different image widths and formats for there. The only downside is the cost, since Cloudinary is doing all this image processing and storage for you.</li>
</ul>
</div><hr/><footer><p>Learn a little something? <strong><a href="https://twitter.com/intent/tweet?text=Woah,%20I%20learned%20so%20much%20from%20this!%20%22Picture%20perfect%20image%20optimization%20for%20any%20web%20framework%22%20by%20@bholmesdev%20https://bholmes.dev/blog/picture-perfect-image-optimization/" target="_blank" rel="noreferrer">Share this post</a> on Twitter!</strong></p><section class="about-the-author"><img src="../../assets/images/me.jpg" alt="Hand drawn portrait of Ben Holmes"/><div><address><a rel="author" href="../../index.html">Ben Holmes </a></address>is a web developer + UI designer by trade from Charleston SC. He's been tinkering with JavaScript and CSS since 2014, and has lead a <a href="https://hack4impact.org/dev-bootcamp">full stack bootcamp curriculum</a> used by universities across the country. Now, he's working fulltime at Peloton and teaching the world a bit of web whimsy in his spare time.</div></section></footer></article></main><footer><div class="content"><div class="newsletter"><h2>Woah, there's a newsletter too!</h2><form action="https://tinyletter.com/bholmesdev" method="post" target="_blank"><label for="email">Email</label><input id="email" type="email" name="email" placeholder="10xengineer@genius.club" required="required"/><p class="newsletter__never-spam">Don't worry, I won't spam you</p><button class="cta-link" type="submit">Yes please, more content<svg xmlns="http://www.w3.org/2000/svg" fill="#5f4b32" width="34" height="34" viewBox="0 0 512 512"><path d="M48 270.9l118.9 44.6L181.7 464 256 360l104 104L464 48 48 270.9zm294.9 126L260 313.4 374.9 152 193.6 289.8 124.9 265l291-156.2-73 288.1z"/></svg></svg></button></form></div><div class="socials"><div class="socials__links"><a href="https://dev.to/bholmesdev" target="_blank" rel="noreferrer" aria-label="Ben's DEV.to blog"><svg xmlns="http://www.w3.org/2000/svg" fill="#5f4b32" width="34" height="34" viewBox="0 0 34 34"><path d="M18.119,22.38a1.48,1.48,0,0,0-.881-.33H15.917v7.929h1.321a1.449,1.449,0,0,0,.881-.33,1.172,1.172,0,0,0,.44-.991V23.371a1.172,1.172,0,0,0-.44-.991ZM39.669,9H12.331A3.332,3.332,0,0,0,9,12.324V39.676A3.332,3.332,0,0,0,12.331,43H39.669A3.332,3.332,0,0,0,43,39.676V12.324A3.332,3.332,0,0,0,39.669,9ZM20.7,28.67a3.466,3.466,0,0,1-3.668,3.586H13.508V19.7H17.1a3.462,3.462,0,0,1,3.593,3.586L20.7,28.67Zm7.647-6.731H24.3v2.918h2.471V27.1H24.3v2.918h4.047v2.244H23.626a1.531,1.531,0,0,1-1.569-1.494v-9.5A1.531,1.531,0,0,1,23.55,19.7h4.8v2.237Zm7.86,8.755c-1,2.333-2.794,1.872-3.6,0L29.682,19.7h2.471l2.257,8.631L36.654,19.7h2.471L36.207,30.694Z" transform="translate(-9 -9)"/></svg></a><a href="https://twitter.com/bholmesdev" target="_blank" rel="noreferrer" aria-label="Ben's Twitter"><svg xmlns="http://www.w3.org/2000/svg" fill="#5f4b32" width="34" height="34" viewBox="0 0 34 34"><path d="M55.383,67.4a14.634,14.634,0,0,1-4.157,1.144,7.264,7.264,0,0,0,3.185-4.008,14.384,14.384,0,0,1-4.6,1.757,7.237,7.237,0,0,0-12.524,4.95,7.087,7.087,0,0,0,.187,1.652,20.514,20.514,0,0,1-14.924-7.574A7.253,7.253,0,0,0,24.8,75a7.07,7.07,0,0,1-3.29-.9v.09a7.245,7.245,0,0,0,5.809,7.1,7.287,7.287,0,0,1-1.907.254,6.829,6.829,0,0,1-1.361-.135,7.25,7.25,0,0,0,6.766,5.032,14.513,14.513,0,0,1-8.995,3.1,14.673,14.673,0,0,1-1.727-.1,20.234,20.234,0,0,0,11.081,3.275c13.331,0,20.613-11.043,20.613-20.621,0-.314-.007-.628-.022-.935A14.736,14.736,0,0,0,55.383,67.4Z" transform="translate(-20.1 -64)"/></svg></a><a href="https://github.com/holben888" target="_blank" rel="noreferrer" aria-label="Ben's GitHub"><svg xmlns="http://www.w3.org/2000/svg" fill="#5f4b32" width="34" height="34" viewBox="0 0 34 34"><path d="M10,115.987a18.6,18.6,0,0,0,.434,4.181,12.443,12.443,0,0,0,1.2,3.251,9.207,9.207,0,0,0,1.943,2.429,11.2,11.2,0,0,0,2.56,1.714,15.1,15.1,0,0,0,3.15,1.079,26,26,0,0,0,3.615.583q1.847.167,4.056.167,2.227,0,4.073-.167a26.227,26.227,0,0,0,3.626-.583,15.681,15.681,0,0,0,3.168-1.079,11.191,11.191,0,0,0,2.578-1.714,9.284,9.284,0,0,0,1.964-2.429,12.2,12.2,0,0,0,1.2-3.251A18.6,18.6,0,0,0,44,115.987a10.2,10.2,0,0,0-2.758-7.133,8.923,8.923,0,0,0,.274-.906,12.4,12.4,0,0,0,.232-1.447,8.1,8.1,0,0,0-.083-2.168,11.516,11.516,0,0,0-.708-2.512l-.25-.049a3.352,3.352,0,0,0-.874.024,9.708,9.708,0,0,0-1.412.3,12.073,12.073,0,0,0-2.078.864,24.135,24.135,0,0,0-2.685,1.6,26.284,26.284,0,0,0-6.668-.666,26.208,26.208,0,0,0-6.651.666,22.6,22.6,0,0,0-2.7-1.6,13.381,13.381,0,0,0-2.054-.864,8.05,8.05,0,0,0-1.429-.291,4.676,4.676,0,0,0-.84-.042,1.455,1.455,0,0,0-.274.059,11.462,11.462,0,0,0-.708,2.512,8.1,8.1,0,0,0-.083,2.168,12.664,12.664,0,0,0,.232,1.447,8.922,8.922,0,0,0,.274.906A10.223,10.223,0,0,0,10,115.987Zm4.174,4.174a5.879,5.879,0,0,1,2.179-4.389,4.334,4.334,0,0,1,1.513-.906,6.575,6.575,0,0,1,1.953-.347c.725-.028,1.422-.021,2.085.017s1.485.09,2.46.156,1.818.1,2.526.1,1.551-.031,2.529-.1,1.8-.118,2.46-.156,1.36-.045,2.085-.017a6.687,6.687,0,0,1,1.953.347,4.366,4.366,0,0,1,1.513.906,5.814,5.814,0,0,1,2.179,4.389,8.215,8.215,0,0,1-.357,2.536,6.367,6.367,0,0,1-.912,1.853,4.535,4.535,0,0,1-1.547,1.273,10.782,10.782,0,0,1-1.929.8,13.909,13.909,0,0,1-2.411.441c-.982.1-1.856.17-2.626.191s-1.749.035-2.935.035-2.165-.01-2.935-.035-1.644-.087-2.626-.191a13.648,13.648,0,0,1-2.411-.441,11.153,11.153,0,0,1-1.929-.8,4.535,4.535,0,0,1-1.547-1.273,6.414,6.414,0,0,1-.916-1.853A8.438,8.438,0,0,1,14.174,120.161Zm17.076-.333c0,1.759.951,3.188,2.127,3.188s2.127-1.426,2.127-3.188-.951-3.188-2.127-3.188S31.25,118.066,31.25,119.828Zm-12.75,0c0,1.759.951,3.188,2.127,3.188s2.127-1.426,2.127-3.188-.951-3.188-2.127-3.188S18.5,118.066,18.5,119.828Z" transform="translate(-10 -101.754)"/></svg></a></div><p>Follow along with <strong>Ben</strong> for the fun, for the whimsy, and for the love of building websites ‚ô• </p></div></div></footer></div></body>
          <script src="../../__main.mjs" defer></script>
          
          
<!-- Mirrored from bholmes.dev/blog/picture-perfect-image-optimization/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Mar 2022 05:57:05 GMT -->
</html>